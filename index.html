<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Orbital Mirage</title>
  <style>
  html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow-x: hidden;
      background: #111;
      color: #fff;
      font-family: system-ui, sans-serif;
    }

    section {
      position: relative;
      min-height: 100vh;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
/* --- Intro --- */
section.intro {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #000;
  color: #fff;
  text-align: center;
  padding: 2rem;
}

.intro-content {
  max-width: 800px;
  opacity: 0;
  transform: translateY(20px);
  animation: introFade 1.5s ease 0.5s forwards;
}
@keyframes introFade { to { opacity: 1; transform: translateY(0); } }

  /* --- Bewegliche Video-Wand --- */
#videowall {
  position: relative;
  width: 100vw;
  height: 100vh;
  background: #000;
  overflow: hidden;
}

.video-wrapper {
  position: absolute;
  width: 25vw;      /* 4:3 Verh√§ltnis durch H√∂he */
  aspect-ratio: 4 / 3;
  overflow: hidden;
  border: none;
  border-radius: 8px;
  transition: transform 0.2s linear;
}

.video-wrapper iframe {
  width: 100%;
  height: 100%;
  border: none;
  object-fit: contain;
  pointer-events: none;
}


section.map iframe {
  width: 85vw;
  height: 85vh;
  border: 0;
}


    /* --- Audio Toggle Button --- */
 #audioToggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 100;
      border-radius: 999px;
      padding: 10px 16px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      border: 1px solid #999;
      cursor: pointer;
      font-size: 1rem;
    }
  </style>
</head>
<body>

<audio id="bgAudio" src="assets/stay-longer-bug-1.mp3" loop preload="auto"></audio>
  <button id="audioToggle" aria-pressed="false">‚ñ∂ sound</button>


  <!-- Intro -->
  <section class="intro">
    <div class="intro-content">
      <h1>Orbital Mirage</h1>
      <p>Eine audiovisuelle Installation √ºber digitale Fragmente, Glitches und Resonanzen.</p>
      <p class="hint">(Scrollen, um die Werke zu entdecken)</p>
    </div>
  </section>


 <!-- üéûÔ∏è Video-Wand mit beweglichen Iframes -->
<section id="videos">
  <div id="videowall">
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/i6nbnUMZO70?autoplay=1&mute=1&loop=1&playlist=i6nbnUMZO70&controls=0&modestbranding=1&disablekb=1&playsinline=1" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/KsJB5lRf6nU?autoplay=1&mute=1&loop=1&playlist=KsJB5lRf6nU&controls=0&modestbranding=1&disablekb=1&playsinline=1" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/h9hbAYfmwOw?autoplay=1&mute=1&loop=1&playlist=h9hbAYfmwOw&controls=0&modestbranding=1&disablekb=1&playsinline=1" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/DzB8zQh6pZQ?autoplay=1&mute=1&loop=1&playlist=DzB8zQh6pZQ&controls=0&modestbranding=1&disablekb=1&playsinline=1" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/Rk3R_je5Vko?autoplay=1&mute=1&loop=1&playlist=Rk3R_je5Vko&controls=0&modestbranding=1&disablekb=1&playsinline=1" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/jfj80irczrU?autoplay=1&mute=1&loop=1&playlist=jfj80irczrU&controls=0&modestbranding=1&disablekb=1&playsinline=1" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/H8S7ZMhe1qI?autoplay=1&mute=1&loop=1&playlist=H8S7ZMhe1qI&controls=0&modestbranding=1&disablekb=1&playsinline=1" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/Iihngqtzdyc?autoplay=1&mute=1&loop=1&playlist=Iihngqtzdyc&controls=0&modestbranding=1&disablekb=1&playsinline=1" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>
  </div>
</section>



  <!-- Google Maps -->
  <section class="map" id="map">
 <iframe loading="lazy" referrerpolicy="no-referrer-when-downgrade"
      src="https://www.google.com/maps/d/embed?mid=1IaK4HABt7e97oZ8lE0LZEVyYjUY-8F8J&ehbc=2E312F" width="940" height="940"></iframe>
  </section>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    const audio = document.getElementById('bgAudio');
    const btn = document.getElementById('audioToggle');
    let playing = false;

    // 1Ô∏è‚É£ Stumm starten ‚Üí Autoplay erlaubt
    audio.muted = true;
    audio.volume = 0; // wir starten komplett leise

    // 2Ô∏è‚É£ Autoplay beim Laden (stumm)
    window.addEventListener('load', async () => {
      try {
        await audio.play();
        playing = true;
        btn.textContent = '‚è∏ sound';
        btn.setAttribute('aria-pressed', 'true');
        console.log('Autoplay (muted) gestartet');
      } catch (err) {
        console.warn('Autoplay blockiert:', err);
      }
    });

    // 3Ô∏è‚É£ Erste Nutzeraktion ‚Üí Sound aktivieren + Fade-In
    function unmuteOnUserAction() {
      if (audio.muted) {
        audio.muted = false;
        console.log('üîä Sound aktiviert (mit Fade-In)');

        // F√ºge Fade-In hinzu: Lautst√§rke 0 ‚Üí 0.8 √ºber 3s
        let vol = 0;
        const target = 0.8;
        const step = target / 30; // 30 Schritte = ~3s (100ms pro Schritt)
        const fade = setInterval(() => {
          vol += step;
          if (vol >= target) {
            vol = target;
            clearInterval(fade);
          }
          audio.volume = vol;
        }, 100);
      }

      // einmalige Listener
      window.removeEventListener('scroll', unmuteOnUserAction);
      window.removeEventListener('pointerdown', unmuteOnUserAction);
      window.removeEventListener('keydown', unmuteOnUserAction);
    }

    window.addEventListener('scroll', unmuteOnUserAction, { once:true });
    window.addEventListener('pointerdown', unmuteOnUserAction, { once:true });
    window.addEventListener('keydown', unmuteOnUserAction, { once:true });

    // 4Ô∏è‚É£ Button bleibt Bedienelement
    btn.addEventListener('click', async () => {
      if (!playing) {
        try {
          await audio.play();
          playing = true;
          btn.textContent = '‚è∏ sound';
          btn.setAttribute('aria-pressed','true');
        } catch (err) {
          console.warn('Play-Fehler:', err);
        }
      } else {
        audio.pause();
        playing = false;
        btn.textContent = '‚ñ∂ sound';
        btn.setAttribute('aria-pressed','false');
      }
    });
  });
  </script>
<script>
const wrappers = document.querySelectorAll('.video-wrapper');
const speeds = [];
const positions = [];

// Zuf√§llige Startpositionen & stark reduzierte Bewegungsgeschwindigkeit
wrappers.forEach((w, i) => {
  const rect = w.getBoundingClientRect();
  positions[i] = {
    x: Math.random() * (window.innerWidth - rect.width),
    y: Math.random() * (window.innerHeight - rect.height)
  };
  speeds[i] = {
    // ‚¨áÔ∏è 20 % des vorherigen Tempos
    x: (Math.random() * 0.2 + 0.06) * (Math.random() < 0.5 ? 1 : -1),
    y: (Math.random() * 0.2 + 0.06) * (Math.random() < 0.5 ? 1 : -1)
  };
});

function animate() {
  wrappers.forEach((w, i) => {
    const rect = w.getBoundingClientRect();

    positions[i].x += speeds[i].x;
    positions[i].y += speeds[i].y;

    // Kollision mit W√§nden
    if (positions[i].x <= 0 || positions[i].x + rect.width >= window.innerWidth) {
      speeds[i].x *= -1;
    }
    if (positions[i].y <= 0 || positions[i].y + rect.height >= window.innerHeight) {
      speeds[i].y *= -1;
    }

    // Anwenden der Position
    w.style.transform = `translate(${positions[i].x}px, ${positions[i].y}px)`;
  });

  requestAnimationFrame(animate);
}

animate();
</script>


</body>
</html>
